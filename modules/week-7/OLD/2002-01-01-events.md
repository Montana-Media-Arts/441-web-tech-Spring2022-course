---
title: Events
module: 7
jotted: true
---

# Events

Browsers and the DOM API implement an "Event Interface". The [Mozilla Developer Network](https://developer.mozilla.org/en-US/docs/Web/API/Event) describes this interface in the following way;

>  The Event interface represents any event which takes place in the DOM; some are user-generated (such as mouse or keyboard events), while others are generated by APIs (such as events that indicate an animation has finished running, a video has been paused, and so forth). There are many types of events.

Alternatively, [w3schools]() describes events as follows;

> HTML DOM events allow JavaScript to register different event handlers on elements in an HTML document. Events are normally used in combination with functions, and the function will not be executed before the event occurs (such as when a user clicks a button).

Essentially, an _event_ is something that has occurred on or in a webpage. Browsers allow developers to use JavaScript to register callback functions that are to be executed when specific events occur.

## Button "Click"

Perhaps the simplest event to demonstrate this concept with is a button "click".

In the following HTML file, a single button is created. The `onclick=` attribute is added to this element. This attribute is supplied a callback function, in this case, `popup()`. This function simply creates an alert popup.

Please press the button to execute the supplied function.

<div id="jotted-demo-1" class="jotted-theme-stacked"></div>

<script>
    new Jotted(document.querySelector("#jotted-demo-1"), {
    files: [
        {
            type: "js",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/02_events_01/script.js"
        },
        {
            type: "html",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/02_events_01/index.html"
        }
    ],
    showBlank: false,
    showResult: true,
    runScripts: false,
    plugins: [
        { name: 'ace', options: { "maxLines": 50 } },
        // { name: 'console', options: { autoClear: true } },
    ]
});
</script>

| [**[ Code Download ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/02_events_01/02_events_01.zip) | [**[ View on GitHub ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/02_events_01/) | [**[ Live Example ]**](https://montana-media-arts.github.io/441-WebTech/lecture_code/07/02_events_01/) |

## `onclick=` attribute

The `onclick=` attribute can be applied to any DOM element and allows developers to attach a callback function to be executed when a click event occurs with the specified element.


In the following example, clicking on the example alternates the background color of the example page.

<div id="jotted-demo-2" class="jotted-theme-stacked"></div>

<script>
    new Jotted(document.querySelector("#jotted-demo-2"), {
    files: [
        {
            type: "js",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/02_events_02/script.js"
        },
        {
            type: "html",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/02_events_02/index.html"
        }
    ],
    showBlank: false,
    showResult: true,
    runScripts: false,
    plugins: [
        { name: 'ace', options: { "maxLines": 50 } },
        // { name: 'console', options: { autoClear: true } },
    ]
});
</script>

| [**[ Code Download ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/02_events_02/02_events_02.zip) | [**[ View on GitHub ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/02_events_02/) | [**[ Live Example ]**](https://montana-media-arts.github.io/441-WebTech/lecture_code/07/02_events_02/) |



# Attaching Events to DOM Elements

In addition to defining events through HTML element attributes, you can also attach event listeners to elements with JavaScript using the query selectors. In the following example, an event is attached to a Button element. To do this, a reference to the element is bound to a variable. This reference can then be used to attach an event with a reference method. As with the style methods, these tend to be based off of, and similar to the attributes that would be used in HTML (although they are sometime slightly different).

For our current example, we will use the `onclick = ` method.

<div id="jotted-demo-3" class="jotted-theme-stacked"></div>

<script>
    new Jotted(document.querySelector("#jotted-demo-3"), {
    files: [
        {
            type: "js",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/02_events_03/script.js"
        },
        {
            type: "html",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/02_events_03/index.html"
        }
    ],
    showBlank: false,
    showResult: true,
    runScripts: false,
    plugins: [
        { name: 'ace', options: { "maxLines": 50 } },
        // { name: 'console', options: { autoClear: true } },
    ]
});
</script>

| [**[ Code Download ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/02_events_03/02_events_03.zip) | [**[ View on GitHub ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/02_events_03/) | [**[ Live Example ]**](https://montana-media-arts.github.io/441-WebTech/lecture_code/07/02_events_03/) |


## Best Practices

It is considered a best practice to use JavaScript to set event handlers. This is to keep you HTML document and content separate from your scripts and code. By keeping these separate, it will be easier for you to debug, understand what is happening, and trace lines through your code. You are heavily encouraged to use JavaScript to set event handlers for the purposes of this course.

To make things even more confusing (or not...), I am instead going to ask you to only use the following methods for setting events.

# `addEventListener()`

The most recent, and currently "best practice" technique for adding event listeners to elements is with the `.addEventListener()` method, which can be called on any element. This method allows you to supply two properties;

1. A type of event to listen for (i.e. `click`, `focus`, `mouseover`).
    - Please note: This is supplied as a _string_.
2. The function to execute.
    - This is a callback function, therefore, you can supply a full function definition, or a function name without the function operator (i.e. no parentheses).

As an example of this method, we will use the background color example from above, and rewrite it.


<div id="jotted-demo-4" class="jotted-theme-stacked"></div>

<script>
    new Jotted(document.querySelector("#jotted-demo-4"), {
    files: [
        {
            type: "js",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/02_events_04/script.js"
        },
        {
            type: "html",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/02_events_04/index.html"
        }
    ],
    showBlank: false,
    showResult: true,
    runScripts: false,
    plugins: [
        { name: 'ace', options: { "maxLines": 50 } },
        // { name: 'console', options: { autoClear: true } },
    ]
});
</script>

| [**[ Code Download ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/02_events_04/02_events_04.zip) | [**[ View on GitHub ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/02_events_04/) | [**[ Live Example ]**](https://montana-media-arts.github.io/441-WebTech/lecture_code/07/02_events_04/) |

Another example shows the use of `.addEventListener()` to attach a function to a button that then shows and hides elements.

> Notice that these elements are all written into the HTML document. These are then hidden by default using the hidden attribute (i.e. `hidden="true"`). This allows for content to remain in the HTML document, and keep the JavaScript document as a place for code logic.
>
> For your homework this week, this is a good organizational approach to take...

<div id="jotted-demo-10" class="jotted-theme-stacked"></div>

<script>
    new Jotted(document.querySelector("#jotted-demo-10"), {
    files: [
        {
            type: "js",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/02_events_07/script.js"
        },
        {
            type: "html",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/02_events_07/index.html"
        }
    ],
    showBlank: false,
    showResult: true,
    runScripts: false,
    plugins: [
        { name: 'ace', options: { "maxLines": 50 } },
        // { name: 'console', options: { autoClear: true } },
    ]
});
</script>

| [**[ Code Download ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/02_events_07/02_events_07.zip) | [**[ View on GitHub ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/02_events_07/) | [**[ Live Example ]**](https://montana-media-arts.github.io/441-WebTech/lecture_code/07/02_events_07/) |



## Move to click from onclick

> Notice how the event name is now "click" instead of "onclick"!

The click event listener is designed for modern browsers that might also include touch screens. This event listener provides an interface to additional property values about an element assigned the event.

These include (Some of these may not yet make sense to you. Skim this list for those that do.);

- `target`
    - EventTarget
    - The event target (the topmost target in the DOM tree).
- `type`
    - DOMString
    - The type of event.
- `bubbles`
    - Boolean
    - Whether the event normally bubbles or not
- `cancelable`
    - Boolean
    - Whether the event is cancellable or not
- `view`
    - WindowProxy
    - document.defaultView (window of the document)
- `detail`
    - long
    - A count of consecutive clicks that happened in a short amount of time, incremented by one.
- `currentTarget`
    - EventTarget
    - The node that had the event listener attached.
- `relatedTarget`
    - EventTarget
    - For mouseover, mouseout, mouseenter and mouseleave events: the target of the complementary event (the mouseleave target in the case of a mouseenter event). null otherwise.
- `screenX`
    - long
    - The X coordinate of the mouse pointer in global (screen) coordinates.
- `screenY`
    - long
    - The Y coordinate of the mouse pointer in global (screen) coordinates.
- `clientX`
    - long
    - The X coordinate of the mouse pointer in local (DOM content) coordinates.
- `clientY`
    - long
    - The Y coordinate of the mouse pointer in local (DOM content) coordinates.
- `button`
    - unsigned short
    - The button number that was pressed when the mouse event was fired: Left button=0, middle button=1 (if present), right button=2. For mice configured for left handed use in which the button actions are reversed the values are instead read from right to left.
- `buttons`
    - unsigned short
    - The buttons being pressed when the mouse event was fired: Left button=1, Right button=2, Middle (wheel) button=4, 4th button (typically, "Browser Back" button)=8, 5th button (typically, "Browser Forward" button)=16. If two or more buttons are pressed, returns the logical sum of the values. E.g., if Left button and Right button are pressed, returns 3 (= 1 + 2).
- `mozPressure`
    - float
    - The amount of pressure applied to a touch or tabdevice when generating the event; this value ranges between 0.0 (minimum pressure) and 1.0 (maximum pressure).
- `ctrlKey`
    - boolean
    - true if the control key was down when the event was fired. false otherwise.
- `shiftKey`
    - boolean
    - true if the shift key was down when the event was fired. false otherwise.
- `altKey`
    - boolean
    - true if the alt key was down when the event was fired. false otherwise.
- `metaKey`
    - boolean
    - true if the meta key was down when the event was fired. false otherwise.

## an example

Continuing with our click events. Let's build an example with three div areas, that are each clickable, and keep track of their own color progression.

To start with, if you look at the HTML file, you will see some basic styling for the three areas. Additionally, we have created three div containers in the HTML file. These divs will be the elements we play with in JavaScript.

Now, let's turn our attention to the JavaScript code.

- In line 2, we are selecting all three of the `.container` div elements.
- In line 6, we are working through each of those elements using an ES6 for loop variant
- In line 7, we are assigning a new listener, of type "click", with the `bgChange()` function as the callback.
- In line 10, we define the `bgChange()` function.
    - NOTE: we pass in a parameter called, `event`.
    - The event listener will pass this along to the function when it calls it by default. (hence why we do not pass it along in line 7.)
    - This `event` parameter will offer us access to the properties listed above.
- In line 13, we use the event property `currentTarget` to get a reference to the element in question.
- In line 18, we check if there is a property identified as `idx` on the element object.
    - By default, there will not be.
    - Since all elements are objects, we can add our own custom properties.
    - So, lets add a property called `idx` where we can store a reference to the index value of the background color for the specific element.
    - We create and initialize this value in the `true` function block of the conditional statement.
- In line 22. we check if there is a property called `flashing` assigned to the element.
    - If there is not, this will return false. And we can move on.
    - If there, we have likely set it to be flashing, therefore, we can pass a reference to the `setInterval` function to the `clearInterval` function.
- In line 28-36, we simply progress through one of three of the background colors, then update the `idx` property.
- In line 41, we check if the event also included the pressing of the `shift key`.
    - This is capable through the events extra properties that were passed along.
    - If it did, then we will create a setInterval function, at 200ms.
    - Notice: that in this instance, we pass a reference the element we are working with. This only works since we created a return function within `flashEl()` that accepts this input parameter.
    - We also store a reference to this time, so that it can be stopped in line 24.

For more information on these properties of the `click` event, please visit the reference documentation on the Mozilla Developer Network.

- ["click" reference page. MDN](https://developer.mozilla.org/en-US/docs/Web/Events/click)

The effect of all of this, is that each div element has its own color progression. By clicking on a div element, you can change its background color to one of three predetermined colors. More so, by using the shift key modifier, supplied to us by the event properties, when you Shift + Click a div element, it will flash, until you click it again without shift. This is accomplished with the timer functions.

<div id="jotted-demo-5" class="jotted-theme-stacked"></div>

<script>
    new Jotted(document.querySelector("#jotted-demo-5"), {
    files: [
        {
            type: "js",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/02_events_05/script.js"
        },
        {
            type: "html",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/02_events_05/index.html"
        }
    ],
    showBlank: false,
    showResult: true,
    runScripts: false,
    plugins: [
        { name: 'ace', options: { "maxLines": 100 } },
        // { name: 'console', options: { autoClear: true } },
    ]
});
</script>

| [**[ Code Download ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/02_events_05/02_events_05.zip) | [**[ View on GitHub ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/02_events_05/) | [**[ Live Example ]**](https://montana-media-arts.github.io/441-WebTech/lecture_code/07/02_events_05/) |

# `removeEventListener()`

In addition to adding event listeners, developers can also choose to remove event listeners when necessary. This can be accomplished through the `.removeEventListener()` method.

To use this method, append it to the element that needs an event removed. Then pass to the method the type of event to remove, and the specific associated function to remove.

<div id="jotted-demo-6" class="jotted-theme-stacked"></div>

<script>
    new Jotted(document.querySelector("#jotted-demo-6"), {
    files: [
        {
            type: "js",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/02_events_06/script.js"
        },
        {
            type: "html",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/02_events_06/index.html"
        }
    ],
    showBlank: false,
    showResult: true,
    runScripts: false,
    plugins: [
        { name: 'ace', options: { "maxLines": 50 } },
        // { name: 'console', options: { autoClear: true } },
    ]
});
</script>

| [**[ Code Download ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/02_events_06/02_events_06.zip) | [**[ View on GitHub ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/02_events_06/) | [**[ Live Example ]**](https://montana-media-arts.github.io/441-WebTech/lecture_code/07/02_events_06/) |



# Other Event Listeners

There are many other event handlers you should learn about. Now that you have the basics of events down, I am going to ask you to study the following links to better understand what possibilities exist and how to use them.

## keydown

The `keydown` event captures keystrokes.

- ["keydown" reference page. MDN](https://developer.mozilla.org/en-US/docs/Web/Events/keydown)

In the case of some events, we want to capture them independent of sub-element. In this case, we can attach the listener to the `document` object.

For the associated function, we select a general div element created in the html document. Then we grab the key pressed, which is passed in via the event objects properties (i.e. `event.key`).

This can then be converted to an ASCII value, which can allow us to see if the key value is between A-Z or a-z. If it is, the letter is added to the current contents of the div element text.

If instead a space bar is pressed, the div elements text contents is deleted.

The script will effectively ignore any other key strokes.

To play with this example, click in the empty example window first. Then start typing.

<div id="jotted-demo-7" class="jotted-theme-stacked"></div>

<script>
    new Jotted(document.querySelector("#jotted-demo-7"), {
    files: [
        {
            type: "js",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/03_keydown_01/script.js"
        },
        {
            type: "html",
            hide: false,
            url:"https://raw.githubusercontent.com/Montana-Media-Arts/441-WebTech/master/lecture_code/07/03_keydown_01/index.html"
        }
    ],
    showBlank: false,
    showResult: true,
    runScripts: false,
    plugins: [
        { name: 'ace', options: { "maxLines": 50 } },
        // { name: 'console', options: { autoClear: true } },
    ]
});
</script>

| [**[ Code Download ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/03_keydown_01/03_keydown_01.zip) | [**[ View on GitHub ]**](https://github.com/Montana-Media-Arts/441-WebTech/raw/master/lecture_code/07/03_keydown_01/) | [**[ Live Example ]**](https://montana-media-arts.github.io/441-WebTech/lecture_code/07/03_keydown_01/) |




**Other Specific Event Handlers To Be Aware Of**

- [load](https://developer.mozilla.org/en-US/docs/Web/Events/load)
    - The load event is fired when a resource and its dependent resources have finished loading.
- [resize](https://developer.mozilla.org/en-US/docs/Web/Events/resize)
    -  	The document view has been resized.
- [scroll](https://developer.mozilla.org/en-US/docs/Web/Events/scroll)
    - The document view or an element has been scrolled.
- [keydown](https://developer.mozilla.org/en-US/docs/Web/Events/keydown)
    - ANY key is pressed
- [keypress](https://developer.mozilla.org/en-US/docs/Web/Events/keypress)
    - ANY key except Shift, Fn, CapsLock is in pressed position. (Fired continuously.)
- [keyup](https://developer.mozilla.org/en-US/docs/Web/Events/keyup)
    - ANY key is released
- [mouseenter](https://developer.mozilla.org/en-US/docs/Web/Events/mouseenter)
    - A pointing device is moved onto the element that has the listener attached.
- [mouseover](https://developer.mozilla.org/en-US/docs/Web/Events/mouseover)
    - A pointing device is moved onto the element that has the listener attached or onto one of its children.
- [mousemove](https://developer.mozilla.org/en-US/docs/Web/Events/mousemove)
    - A pointing device is moved over an element. (Fired continuously as the mouse moves.)
- [mousedown](https://developer.mozilla.org/en-US/docs/Web/Events/mousedown)
    - A pointing device button is pressed on an element.
- [mouseup](https://developer.mozilla.org/en-US/docs/Web/Events/mouseup)
    - A pointing device button is released over an element.
- [dblclick](https://developer.mozilla.org/en-US/docs/Web/Events/dblclick)
    - A pointing device button is clicked twice on an element.
- [contextmenu](https://developer.mozilla.org/en-US/docs/Web/Events/contextmenu)
    - The right button of the mouse is clicked (before the context menu is displayed).
- [mouseleave](https://developer.mozilla.org/en-US/docs/Web/Events/mouseleave)
    - A pointing device is moved off the element that has the listener attached.
- [mouseout](https://developer.mozilla.org/en-US/docs/Web/Events/mouseout)
    - A pointing device is moved off the element that has the listener attached or off one of its children.
- [select](https://developer.mozilla.org/en-US/docs/Web/Events/select)
-  	Some text is being selected.
- [focus](https://developer.mozilla.org/en-US/docs/Web/Events/focus)
    - An element has received focus.
- [blur](https://developer.mozilla.org/en-US/docs/Web/Events/blur)
    - An element has lost focus.
- [dragstart](https://developer.mozilla.org/en-US/docs/Web/Events/dragstart)
    - The user starts dragging an element or text selection.
- [drag](https://developer.mozilla.org/en-US/docs/Web/Events/drag)
    - An element or text selection is being dragged (Fired continuously every 350ms).
- [dragend](https://developer.mozilla.org/en-US/docs/Web/Events/dragend)
    - A drag operation is being ended (by releasing a mouse button or hitting the escape key).
- [input](https://developer.mozilla.org/en-US/docs/Web/Events/input)
    - The DOM input event is fired synchronously when the value of an \<input\>, \<select\>, or \<textarea\> element is changed.
- [CheckboxStateChange](https://developer.mozilla.org/en-US/docs/Web/Events/CheckboxStateChange)
    - The CheckboxStateChange event is executed when the state of a \<checkbox\> element has changed.
- [RadioStateChange](https://developer.mozilla.org/en-US/docs/Web/Events/RadioStateChange)
    - The RadioStateChange event is executed when the state of a \<radio\> element has changed.

All DOM Events can be studied from;

- ["Event reference". Mozilla Developer Network. 2018. Web. Accessed from: https://developer.mozilla.org/en-US/docs/Web/Events](https://developer.mozilla.org/en-US/docs/Web/Events)


# Further Reading

Please also read the following on events;

- ["Introduction to events". Mozilla Developer Network. Web. 2018. Accessed from: https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events)
- ["JavaScript Events". w3schools.com. Web. 2018. Accessed from: https://www.w3schools.com/js/js_events.asp](https://www.w3schools.com/js/js_events.asp)
- Haverbeke, Marijn. **Eloquent JavaScript: A Modern Introduction to Programming.** 3rd Edition. N.p., 2018. Web.
    - [_Chapter 15; Handling Events_](http://eloquentjavascript.net/15_event.html)
